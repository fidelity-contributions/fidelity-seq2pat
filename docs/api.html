<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Seq2Pat Public API &mdash; Seq2Pat  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Usage Examples" href="examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Seq2Pat
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Usage Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Seq2Pat Public API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Seq2Pat</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Seq2Pat Public API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sequential.seq2pat">
<span id="seq2pat-public-api"></span><span id="seq2pat-api"></span><h1>Seq2Pat Public API<a class="headerlink" href="#module-sequential.seq2pat" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sequential.seq2pat.</span></span><span class="sig-name descname"><span class="pre">Attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.average">
<span class="sig-name descname"><span class="pre">average</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute.average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute.average" title="Permalink to this definition"></a></dt>
<dd><p>The Average Constraint</p>
<p>Restricts the average value of a pattern.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.gap">
<span class="sig-name descname"><span class="pre">gap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute.gap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute.gap" title="Permalink to this definition"></a></dt>
<dd><p>The Gap Constraint</p>
<p>Restricts the difference between every two consecutive event values in a pattern.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.median">
<span class="sig-name descname"><span class="pre">median</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute.median"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute.median" title="Permalink to this definition"></a></dt>
<dd><p>The Median Constraint</p>
<p>Restricts the median value of a pattern.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.set_values">
<span class="sig-name descname"><span class="pre">set_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute.set_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute.set_values" title="Permalink to this definition"></a></dt>
<dd><p>Set values of attribute</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.span">
<span class="sig-name descname"><span class="pre">span</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Attribute.span"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Attribute.span" title="Permalink to this definition"></a></dt>
<dd><p>The Span Constraint</p>
<p>Restricts the difference between the maximum and the minimum value in a pattern.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sequential.seq2pat.Attribute.values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#sequential.seq2pat.Attribute.values" title="Permalink to this definition"></a></dt>
<dd><p>Values</p>
<p>The values of the attribute</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sequential.seq2pat.Seq2Pat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sequential.seq2pat.</span></span><span class="sig-name descname"><span class="pre">Seq2Pat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequences</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_span</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">123456</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sequential/seq2pat.html#Seq2Pat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Seq2Pat" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p><strong>Seq2Pat: Sequence-to-Pattern Generation Library</strong></p>
<dl class="simple">
<dt>sequences<span class="classifier">List[list]</span></dt><dd><p>A list of sequences each with a list of events.
The event values can be all strings or all integers.</p>
</dd>
<dt>max_span: Optional[int]</dt><dd><p>The value for applying a built-in maximum span constraint to the length of items in mining, max_span=10 by
default (10 items). This is going to avoid regular users to run into a scaling issue when data contains long
sequences but no constraints are used to run the mining efficiently and practically.
Power users can choose to drop this constraint by setting it to be None or increase the maximum span
as the system has resources to support.</p>
</dd>
<dt>batch_size: Optional[int]</dt><dd><p>When batch_size is set, program runs Seq2Pat on batches of sequences instead of on the entire set of
sequences for improving scalability. Each batch contains <cite>batch_size</cite> sequences as a random sample of
entire set. A mining task will run on each batch with a reduced minimum row count (min_frequency) threshold.
Please refer to description of discount_factor parameter for how min_frequency is reduced.
Resulted patterns will be aggregated from the mining results of each batch by calculating the sum of
the occurrences. Finally the original minimum row count threshold is applied to the patterns after aggregation.</p>
</dd>
<dt>n_jobs: int</dt><dd><p>n_jobs defines the number of processes (n_jobs=2 by default) that are spawned
when mining tasks are applied among batches in parallel. If -1 all CPUs are used.</p>
</dd>
<dt>seed: int</dt><dd><p>Random seed to make sequences uniformly distributed among batches.</p>
</dd>
<dt>discount_factor: float</dt><dd><p>A discount factor is used to reduce the minimum row count (min_frequency) threshold when Seq2Pat is applied
on a batch. When min_frequency is a integer, mining task can only be run on the entire set.
When min_frequency is a float, mining can be run on batches, with new threshold being defined by
max(min_frequency * discount_factor, 1.0/num_rows). num_rows is the number of sequences of one batch.
Final results will be based on the aggregation of patterns from each batch by calculating the sum of
the occurrences. Theoretically there is a chance that the batching results will be different from non-batching
results. But a small discount_factor parameter will make the chance to be minimal and thus we have the same
results as running on entire set in practices. A small value of discount_factor is thus recommended.
discount_factor=0.2 by default.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Seq2Pat.add_constraint">
<span class="sig-name descname"><span class="pre">add_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BaseConstraint</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_BaseConstraint</span></span></span><a class="reference internal" href="_modules/sequential/seq2pat.html#Seq2Pat.add_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Seq2Pat.add_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Adds the given constraint to the constraint store.</p>
<dl class="simple">
<dt>constraint: _BaseConstraint</dt><dd><p>A constraint on an attribute object</p>
</dd>
</dl>
<p>The constraint handle.</p>
<p>TypeError: If the constraint is already defined on this attribute.
ValueError: If there is a mismatch in length of sequences and their attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Seq2Pat.get_patterns">
<span class="sig-name descname"><span class="pre">get_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/sequential/seq2pat.html#Seq2Pat.get_patterns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Seq2Pat.get_patterns" title="Permalink to this definition"></a></dt>
<dd><p>Performs the mining operation enforcing the constraints and
Returns the most frequent patterns.</p>
<dl class="simple">
<dt>min_frequency: Num</dt><dd><p>If int, represents the minimum number of sequences (rows) a pattern should occur.
If float, should be (0.0, 1.0] and represents
the minimum percentage of sequences (rows) a pattern should occur.</p>
</dd>
</dl>
<p>List[list] where each inner list represents a frequent pattern in the form
[event_1, event_2, event_3, … event_n, frequency].
The last element is the frequency of the pattern.
Sequences are sored by decreasing frequency, i.e., most frequent pattern first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sequential.seq2pat.Seq2Pat.remove_constraint">
<span class="sig-name descname"><span class="pre">remove_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_BaseConstraint</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)"><span class="pre">NoReturn</span></a></span></span><a class="reference internal" href="_modules/sequential/seq2pat.html#Seq2Pat.remove_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sequential.seq2pat.Seq2Pat.remove_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Removes the given constraint from the constraint store.</p>
<dl class="simple">
<dt>constraint: _BaseConstraint</dt><dd><p>A constraint on an attribute object</p>
</dd>
</dl>
<p>KeyError: If the given constraint does not exist in the constraint store.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sequential.seq2pat.Seq2Pat.sequences">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sequences</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sequential.seq2pat.Seq2Pat.sequences" title="Permalink to this definition"></a></dt>
<dd><p>Sequence
The sequences of Seq2Pat.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples.html" class="btn btn-neutral float-left" title="Usage Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright GPL 2.0.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>